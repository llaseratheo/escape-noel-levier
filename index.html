<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Escape NoÃ«l : Les Copains de Levier Ã  l'Aventure</title>
<link rel="icon" href="./favicon.svg" type="image/svg+xml"><link rel="stylesheet" href="./style.css"></head><body>
  <div id="bgLayer"></div>
  <div id="introWrap"><div class="introBox" id="introBox"><img src="./intro_logo.svg" alt="logo" width="140"><h1 class="introTitle">Escape NoÃ«l : Les Copains de Levier Ã  l'Aventure</h1><p class="introSub">Les copains de Levier s'apprÃªtent Ã  vivre une aventure de NoÃ«l pas comme les autres... Cliquez sur le bouton pour dÃ©marrer l'aventure.</p><button id="startButton">ðŸŽ„ Commencer l'aventure</button></div></div>
  <div id="root" style="display:none"></div>
  <script src="./snow.js"></script>
  <script src="./control.js"></script>
  <script>
    const startBtn = document.getElementById('startButton');
    const introBox = document.getElementById('introBox');
    const root = document.getElementById('root');
    const music = new Audio('./assets/musique_intro.wav');
    const narration = new Audio('./assets/voice_narration.wav');
    const jingle = new Audio('./assets/jingle.wav');
    startBtn.addEventListener('click', ()=>{
      if(window.startSnow) window.startSnow();
      music.play().catch(()=>{});
      narration.play().catch(()=>{});
      startBtn.disabled = true;
      narration.addEventListener('ended', ()=>{
        jingle.play().catch(()=>{});
        introBox.style.transition = 'opacity .6s'; introBox.style.opacity = 0;
        setTimeout(()=>{ document.getElementById('introWrap').style.display='none'; root.style.display='block'; mountApp(); }, 800);
      });
    });
    function mountApp(){ if(window.__eg_setAudio) window.__eg_setAudio(music,narration); const s=document.createElement('script'); s.type='module'; s.src='/src/main.jsx'; document.body.appendChild(s); }
  </script>
</body></html>
