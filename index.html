<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Escape NoÃ«l : Les Copains de Levier Ã  l'Aventure</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="stylesheet" href="/style.css" />
  </head>

  <body>
    <!-- Conteneur de fond enneigÃ© -->
    <div id="snow-container"></div>

    <!-- Logo dâ€™intro -->
    <div id="intro">
      <img src="/intro_logo.svg" alt="Logo Escape NoÃ«l" id="intro-logo" />
      <h1>Escape NoÃ«l : Les Copains de Levier Ã  l'Aventure</h1>
      <button id="startButton">ðŸŽ„ Commencer lâ€™aventure</button>
    </div>

    <!-- Racine React -->
    <div id="root"></div>

    <!-- Scripts -->
    <script src="/snow.js"></script>
    <script>
      // Gestion du son et de lâ€™intro
      const startButton = document.getElementById("startButton");
      const intro = document.getElementById("intro");

      const introMusic = new Audio("/assets/musique_intro.wav");
      const narration = new Audio("/assets/voice_narration.wav");
      const jingle = new Audio("/assets/jingle.wav");

      // Lecture de la musique d'intro dÃ¨s le chargement
      window.addEventListener("load", () => {
        introMusic.volume = 0.4;
        introMusic.play().catch(() => {
          // attente du clic utilisateur pour dÃ©marrer sur certains navigateurs
        });
      });

      startButton.addEventListener("click", () => {
        introMusic.pause();
        jingle.play();
        narration.play();

        // Animation de transition vers le jeu
        intro.classList.add("fade-out");
        setTimeout(() => {
          intro.style.display = "none";
        }, 2000);
      });
    </script>

    <!-- EntrÃ©e de lâ€™application React -->
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
